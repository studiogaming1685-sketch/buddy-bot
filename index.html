<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Buddy Bot - Anti-Bullying Chatbot</title>
<style>
    body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 0;
        background: #e0f7fa;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
    }
    .chat-container {
        width: 100%;
        max-width: 420px;
        background: #ffffff;
        border-radius: 15px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }
    .header {
        background: #00796b;
        color: white;
        padding: 15px;
        font-size: 1.3em;
        text-align: center;
    }
    .chat-box {
        flex: 1;
        padding: 10px;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        gap: 8px;
        background: #f0f4f5;
    }
    .bot-message, .user-message {
        max-width: 80%;
        padding: 10px 15px;
        border-radius: 20px;
        word-wrap: break-word;
        font-size: 0.95em;
    }
    .bot-message {
        background: #b2dfdb;
        align-self: flex-start;
    }
    .user-message {
        background: #c8e6c9;
        align-self: flex-end;
        text-align: right;
    }
    .input-container {
        display: flex;
        border-top: 1px solid #ccc;
    }
    input[type=text] {
        flex: 1;
        padding: 10px;
        border: none;
        outline: none;
        font-size: 1em;
    }
    button {
        padding: 10px 15px;
        background: #00796b;
        color: white;
        border: none;
        cursor: pointer;
        font-weight: bold;
    }
    button:hover {
        background: #004d40;
    }
    .quick-btns {
        display: flex;
        gap: 5px;
        flex-wrap: wrap;
        margin-bottom: 10px;
    }
    .quick-btns button {
        flex: 1;
        font-size: 0.85em;
        background: #4db6ac;
    }
    .quick-btns button:hover {
        background: #00796b;
    }
    a.resource-link {
        color: #00796b;
        text-decoration: underline;
        font-size: 0.9em;
    }
</style>
</head>
<body>
<div class="chat-container">
    <div class="header">Buddy Bot ðŸ¤– - Anti-Bullying Chat</div>
    <div class="chat-box" id="chat-box">
        <div class="bot-message">Hello! Iâ€™m Buddy Bot. How are you feeling today?</div>
        <div class="quick-btns">
            <button onclick="sendQuick('I am bullied')">I am bullied</button>
            <button onclick="sendQuick('I feel sad')">I feel sad</button>
            <button onclick="sendQuick('I need help')">I need help</button>
        </div>
    </div>
    <div class="input-container">
        <input type="text" id="user-input" placeholder="Type your message here..." />
        <button onclick="sendMessage()">Send</button>
    </div>
</div>

<script>
const chatBox = document.getElementById('chat-box');
const userInput = document.getElementById('user-input');

function sendQuick(text){
    userInput.value = text;
    sendMessage();
}

function sendMessage() {
    const message = userInput.value.trim();
    if(!message) return;

    // Show user message
    const userMsg = document.createElement('div');
    userMsg.classList.add('user-message');
    userMsg.textContent = message;
    chatBox.appendChild(userMsg);

    userInput.value = '';
    scrollToBottom();

    // Bot response after 500ms
    setTimeout(()=>{ 
        const botMsg = document.createElement('div');
        botMsg.classList.add('bot-message');
        botMsg.innerHTML = getBotResponse(message.toLowerCase());
        chatBox.appendChild(botMsg);
        scrollToBottom();
    }, 500);
}

function scrollToBottom(){
    chatBox.scrollTop = chatBox.scrollHeight;
}

function getBotResponse(msg){
    if(msg.includes("bully") || msg.includes("bullied") || msg.includes("teased")){
        return "I'm sorry you're experiencing that. You can talk to someone safe or call a helpline: <a class='resource-link' href='https://www.stopbullying.gov/get-help-now' target='_blank'>Bullying Help</a>";
    } else if(msg.includes("sad") || msg.includes("upset") || msg.includes("depressed")){
        return "Itâ€™s okay to feel sad. Sharing your feelings can help. Consider talking to a friend, parent, or counselor.";
    } else if(msg.includes("help") || msg.includes("advice") || msg.includes("support")){
        return "I can guide you through anti-bullying strategies. You can also check these resources: <br> - <a class='resource-link' href='https://www.stopbullying.gov/' target='_blank'>Stop Bullying</a> <br> - <a class='resource-link' href='https://kidshelpline.com/' target='_blank'>Kids Helpline</a>";
    } else if(msg.includes("thank") || msg.includes("thanks")){
        return "You're welcome! Iâ€™m always here to help. ðŸ’›";
    } else {
        return "I understand. Can you tell me more about what's happening?";
    }
}
</script>
</body>
</html>
